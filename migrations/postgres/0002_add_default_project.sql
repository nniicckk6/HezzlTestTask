-- DEPRECATED: заменён на 0002_add_default_project.up.sql/.down.sql

-- Миграция 0002: вставка дефолтной записи в таблицу Projects
-- Подробное описание: создаем стандартный проект 'Первая запись', если его еще нет, чтобы обеспечить иде́мпотентность при повторном запуске миграций

INSERT INTO Projects (name)  -- указываем столбец, в который вставляем значение
SELECT 'Первая запись'       -- значение для столбца name: название проекта по умолчанию
WHERE NOT EXISTS (           -- условие проверки отсутствия такой записи в таблице Projects
    SELECT 1                 -- выбираем константу для проверки существования
    FROM Projects           -- из таблицы Projects
    WHERE name = 'Первая запись'  -- условие: ищем проект с таким же именем
);
